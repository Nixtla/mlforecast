



# <kbd>module</kbd> `mlforecast.flavor`




**Global Variables**
---------------
- **MLMODEL_FILE_NAME**
- **INVALID_PARAMETER_VALUE**
- **DEFAULT_AWAIT_MAX_SLEEP_SECONDS**
- **FLAVOR_NAME**

---



## <kbd>function</kbd> `get_default_pip_requirements`

```python
get_default_pip_requirements()
```

Create list of default pip requirements for MLflow Models. 



**Returns:**
 
 - <b>`list`</b>:  list of default pip requirements for MLflow Models produced by this flavor. 
 - <b>`Calls to `</b>: func:`save_model()` and :func:`log_model()` produce a pip environment that, at a minimum, contains these requirements. 


---



## <kbd>function</kbd> `get_default_conda_env`

```python
get_default_conda_env()
```

Return default Conda environment for MLflow Models. 



**Returns:**
  The default Conda environment for MLflow Models produced by calls to 
 - <b>`:func`</b>: `save_model()` and :func:`log_model()` 


---



## <kbd>function</kbd> `save_model`

```python
save_model(
    model,
    path,
    conda_env=None,
    code_paths=None,
    mlflow_model=None,
    signature=None,
    input_example=None,
    pip_requirements=None,
    extra_pip_requirements=None
)
```

Save an ``MLForecast`` model to a local path 



**Args:**
 
 - <b>`model`</b> (MLForecast):  Fitted ``MLForecast`` model object. 
 - <b>`path`</b> (str):  Local path where the model is to be saved. 
 - <b>`conda_env`</b> (Union[dict, str], optional):  Either a dictionary representation of a Conda environment or the path to a  conda environment yaml file. Defaults to None. 
 - <b>`code_paths`</b> (array-like, optional):  A list of local filesystem paths to Python file dependencies (or directories  containing file dependencies). These files are *prepended* to the system path  when the model is loaded. Defaults to None. 
 - <b>`mlflow_model`</b> (mlflow.models.Model, optional):  mlflow.models.Model configuration to which to add the python_function flavor.  Defaults to None. 
 - <b>`signature`</b> (mlflow.models.signature.ModelSignature, optional):  Model Signature mlflow.models.ModelSignature describes 
 - <b>`model input and output `</b>: py:class:`Schema <mlflow.types.Schema>`. The model 
 - <b>`signature can be `</b>: py:func:`inferred <mlflow.models.infer_signature>` from datasets with valid model input (e.g. the training dataset with target column omitted) and valid model output (e.g. model predictions generated on the training dataset), for example: 


 - <b>`.. code-block`</b>: : py 

 from mlflow.models import infer_signature 

 train = df.drop_column("target_label")  predictions = ...  # compute model predictions  signature = infer_signature(train, predictions) 

Defaults to None. 
 - <b>`input_example`</b> (Union[pandas.core.frame.DataFrame, numpy.ndarray, dict, list, csr_matrix, csc_matrix], optional):  Input example provides one or several instances of valid model input.  The example can be used as a hint of what data to feed the model. The given  example will be converted to a ``Pandas DataFrame`` and then serialized to json  using the ``Pandas`` split-oriented format. Bytes are base64-encoded. Defaults to None. 
 - <b>`pip_requirements`</b> (Union[Iterable, str], optional):  Either an iterable of pip requirement strings  (e.g. ["mlforecast", "-r requirements.txt", "-c constraints.txt"]) or the string  path to a pip requirements file on the local filesystem  (e.g. "requirements.txt"). Defaults to None. 
 - <b>`extra_pip_requirements`</b> (Union[Iterable, str], optional):  Either an iterable of pip requirement strings  (e.g. ["pandas", "-r requirements.txt", "-c constraints.txt"]) or the string  path to a pip requirements file on the local filesystem  (e.g. "requirements.txt"). Defaults to None. 
 - <b>`serialization_format`</b> (str, optional):  The format in which to serialize the model. This should be one of the formats  "pickle" or "cloudpickle". Defaults to "pickle". 


---



## <kbd>function</kbd> `log_model`

```python
log_model(
    model,
    artifact_path,
    conda_env=None,
    code_paths=None,
    registered_model_name=None,
    signature=None,
    input_example=None,
    await_registration_for=300,
    pip_requirements=None,
    extra_pip_requirements=None,
    **kwargs
)
```

Log an ``MLForecast`` model as an MLflow artifact for the current run. 



**Args:**
 
 - <b>`model`</b> (MLForecast):  Fitted ``MLForecast`` model object. 
 - <b>`artifact_path`</b> (str):  Run-relative artifact path to save the model to. 
 - <b>`conda_env`</b> (Union[dict, str], optional):  Either a dictionary representation of a Conda environment or the path to a  conda environment yaml file. Defaults to None. 
 - <b>`code_paths`</b> (array-like, optional):  A list of local filesystem paths to Python file dependencies (or directories  containing file dependencies). These files are *prepended* to the system path  when the model is loaded. Defaults to None. 
 - <b>`registered_model_name`</b> (str, optional):  If given, create a model version under ``registered_model_name``, also creating  a registered model if one with the given name does not exist. Defaults to None. 
 - <b>`signature`</b> (mlflow.models.signature.ModelSignature, optional):  Model Signature mlflow.models.ModelSignature describes 
 - <b>`model input and output `</b>: py:class:`Schema <mlflow.types.Schema>`. The model 
 - <b>`signature can be `</b>: py:func:`inferred <mlflow.models.infer_signature>` from datasets with valid model input (e.g. the training dataset with target column omitted) and valid model output (e.g. model predictions generated on the training dataset), for example: 


 - <b>`.. code-block`</b>: : py 

 from mlflow.models import infer_signature 

 train = df.drop_column("target_label")  predictions = ...  # compute model predictions  signature = infer_signature(train, predictions) 

Defaults to None. 
 - <b>`input_example`</b> (Union[pandas.core.frame.DataFrame, numpy.ndarray, dict, list, csr_matrix, csc_matrix], optional):  Input example provides one or several instances of valid model input.  The example can be used as a hint of what data to feed the model. The given  example will be converted to a ``Pandas DataFrame`` and then serialized to json  using the ``Pandas`` split-oriented format. Bytes are base64-encoded. Defaults to None. 
 - <b>`await_registration_for`</b> (int, optional):  Number of seconds to wait for the model version to finish being created and is  in ``READY`` status. By default, the function waits for five minutes. Specify 0  or None to skip waiting. Defaults to None. 
 - <b>`pip_requirements`</b> (Union[Iterable, str], optional):  Either an iterable of pip requirement strings  (e.g. ["mlforecast", "-r requirements.txt", "-c constraints.txt"]) or the string  path to a pip requirements file on the local filesystem  (e.g. "requirements.txt"). Defaults to None. 
 - <b>`extra_pip_requirements`</b> (Union[Iterable, str], optional):  Either an iterable of pip requirement strings  (e.g. ["pandas", "-r requirements.txt", "-c constraints.txt"]) or the string  path to a pip requirements file on the local filesystem  (e.g. "requirements.txt"). Defaults to None. 
 - <b>`kwargs`</b>:  Additional arguments for :py:class:`mlflow.models.model.Model` 



**Returns:**
 
 - <b>`A `</b>: py:class:`ModelInfo <mlflow.models.model.ModelInfo>` instance that contains the metadata of the logged model. 


---



## <kbd>function</kbd> `load_model`

```python
load_model(model_uri, dst_path=None)
```

Load an ``MLForecast`` model from a local file or a run. 



**Args:**
 
 - <b>`model_uri`</b> (str):  The location, in URI format, of the MLflow model. For example: 


                    - ``/Users/me/path/to/local/model`` 
                    - ``relative/path/to/local/model`` 
                    - ``s3://my_bucket/path/to/model`` 
                    - ``runs:/<mlflow_run_id>/run-relative/path/to/model`` 
                    - ``mlflow-artifacts:/path/to/model`` 

 For more information about supported URI schemes, see  Referencing Artifacts: ```

 - <b>`        https`</b>: //www.mlflow.org/docs/latest/tracking.html#artifact-locations
        ``` 
 - <b>`dst_path`</b> (str, optional):  The local filesystem path to which to download the model artifact.This  directory must already exist. If unspecified, a local output path will  be created. Defaults to None. 



**Returns:**
 An ``MLForecast`` model instance. 


